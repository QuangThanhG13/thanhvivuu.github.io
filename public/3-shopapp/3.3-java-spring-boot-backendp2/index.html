<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.127.0">
    <meta name="description" content="">
<meta name="author" content="nguyenducquy.hust@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Java Spring Boot backend (p2) :: Implementing CI/CD using Jenkins and Argo CD.</title>

    
    <link href="/css/nucleus.css?1725905630" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1725905630" rel="stylesheet">
    <link href="/css/hybrid.css?1725905630" rel="stylesheet">
    <link href="/css/featherlight.min.css?1725905630" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1725905630" rel="stylesheet">
    <link href="/css/auto-complete.css?1725905630" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1725905630" rel="stylesheet">
    <link href="/css/theme.css?1725905630" rel="stylesheet">
    <link href="/css/hugo-theme.css?1725905630" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1725905630" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1725905630"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/3-shopapp/3.3-java-spring-boot-backendp2/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1725905630"></script>
<script type="text/javascript" src="/js/auto-complete.js?1725905630"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1725905630"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/">
           <b> 1. </b> Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.1-cicdprocess/" title="The CI/CD operations process" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.1-cicdprocess/">
           <b> 1.1 </b> The CI/CD operations process
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.4-docker/" title="Theory Docker Project" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.4-docker/">
          <b> 1.4 </b>Theory Docker Project
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.2-jenkins/" title="Jenkins" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.2-jenkins/">
           <b> 1.2 </b> Jenkins
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.3-argocd/" title="Argo CD" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.3-argocd/">
           <b> 1.3 </b> Argo CD
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-git/" title="Advanced Git" class="dd-item 
        
        
        
        ">
      <a href="/2-git/">
           <b> 2 </b> Advanced Git
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-git/2.1-gitbasic/" title="Basic Git repository" class="dd-item 
        
        
        
        ">
      <a href="/2-git/2.1-gitbasic/">
           <b> 2.1 </b> Basic Git repository
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2-git/2.2-advancedgit/_index1/" title="GH flow" class="dd-item ">
        <a href="/2-git/2.2-advancedgit/_index1/">
         <b> 2.2.1 </b> GH flow
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/2-git/2.2-advancedgit/_index2/" title="GibHub homework" class="dd-item ">
        <a href="/2-git/2.2-advancedgit/_index2/">
         <b> 2.2.2 </b> GibHub homework
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-shopapp/" title="SHOP APP" class="dd-item 
        parent
        
        
        ">
      <a href="/3-shopapp/">
           <b> 3 </b> SHOP APP
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-shopapp/3.1--design-my-sql/" title="Design my SQL" class="dd-item 
        
        
        
        ">
      <a href="/3-shopapp/3.1--design-my-sql/">
           <b> 3.1 </b> Design my SQL
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-shopapp/3.2-java-spring-boot-backendp1/" title="Java Spring Boot backend (p1)" class="dd-item 
        
        
        
        ">
      <a href="/3-shopapp/3.2-java-spring-boot-backendp1/">
          <b>3.2</b>Java Spring Boot backend (p1)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-shopapp/3.3-java-spring-boot-backendp2/" title="Java Spring Boot backend (p2)" class="dd-item 
        
        active
        
        ">
      <a href="/3-shopapp/3.3-java-spring-boot-backendp2/">
          <b>3.3</b>Java Spring Boot backend (p2)
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-java_core/" title="Java Core " class="dd-item 
        
        
        
        ">
      <a href="/4-java_core/">
           <b> 4 </b> Java Core 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/4-java_core/4.1-more-question/" title=" More Questions " class="dd-item 
        
        
        
        ">
      <a href="/4-java_core/4.1-more-question/">
           <b> 4.1 </b>  More Questions 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/3-shopapp/3.3-java-spring-boot-backendp2/" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>Implementing CI/CD using Jenkins and Argo CD.</a> > <a href='/3-shopapp/'>SHOP APP</a> > Java Spring Boot backend (p2)
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#userrepository-và-usercontrolller">UserRepository và UserControlller</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Java Spring Boot backend (p2)
            </h1>
          

        



	<h2 id="userrepository-và-usercontrolller">UserRepository và UserControlller</h2>
<h4 id="1giải-thích-logic-chưa-hiểu">1.Giải thích logic chưa hiểu.</h4>
<h5 id="trong-api-creatuser">Trong api <code>creatUser</code></h5>
<p>Để convert tu User DTO sang User ta làm</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>       
</span></span><span style="display:flex;"><span>        User newUser <span style="color:#f92672">=</span>countId(userDTO.<span style="color:#a6e22e">getFacebookAccountId</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">googleAccountId</span>(userDTO.<span style="color:#a6e22e">getGoogleAccountId</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">build</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//1 role thi se cos nhieu user bây giờ ta sẽ tại role cho user</span>
</span></span><span style="display:flex;"><span>        Role role <span style="color:#f92672">=</span> roleRepository.<span style="color:#a6e22e">findById</span>(userDTO.<span style="color:#a6e22e">getRoleId</span>())
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">orElseThrow</span>(() <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">new</span> DataNotFoundException(<span style="color:#e6db74">&#34;Role not found: &#34;</span> <span style="color:#f92672">+</span> userDTO.<span style="color:#a6e22e">getRoleId</span>()));
</span></span><span style="display:flex;"><span>        newUser.<span style="color:#a6e22e">setRole</span>(role);
</span></span></code></pre></div><h5 id="có-1-product-có-sẵn-các-thông-tin-ở-trong-và-muốn-thêm-ảnh-vào">Có 1 product có sẵn các thông tin ở trong và <code>muốn thêm ảnh vào</code></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            List&lt;MultipartFile&gt; files <span style="color:#f92672">=</span> productDTO.getFiles<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>            files <span style="color:#f92672">=</span> files <span style="color:#f92672">==</span> null ? new ArrayList&lt;MultipartFile&gt;<span style="color:#f92672">()</span> : files;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>MultipartFile file : files<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>file.getSize<span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>                //Kiem tra kich thuoc file va dinh dang.
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>file.getSize<span style="color:#f92672">()</span> &gt; <span style="color:#ae81ff">10</span> * <span style="color:#ae81ff">1024</span> * 1024<span style="color:#f92672">)</span> <span style="color:#f92672">{</span> //kich thuoc file lon hon 10Mb
</span></span><span style="display:flex;"><span>                    // throw new ResponseStatusException<span style="color:#f92672">(</span>HttpStatus.PAYLOAD_TOO_LARGE, <span style="color:#e6db74">&#34;File is too large! Maximum size is 10Mb&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> ResponseEntity.status<span style="color:#f92672">(</span>HttpStatus.PAYLOAD_TOO_LARGE<span style="color:#f92672">)</span>.body<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;File is too large! Maximum size is 10Mb&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>                String contentType <span style="color:#f92672">=</span> file.getContentType<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>contentType <span style="color:#f92672">==</span> null <span style="color:#f92672">||</span> !contentType.startsWith<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;image/&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">return</span> ResponseEntity.status<span style="color:#f92672">(</span>HttpStatus.UNSUPPORTED_MEDIA_TYPE<span style="color:#f92672">)</span>.body<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;File must be an image&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>                //luu file vao thu muc
</span></span><span style="display:flex;"><span>                String fileName <span style="color:#f92672">=</span> storeFile<span style="color:#f92672">(</span>file<span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span>                //sau <span style="color:#66d9ef">do</span> luu vao doi tuong product trong db
</span></span><span style="display:flex;"><span>                //luu vao bang product images
</span></span><span style="display:flex;"><span>             ProductImage productImage <span style="color:#f92672">=</span> productService.createProductImage<span style="color:#f92672">(</span>newProduct.getId<span style="color:#f92672">()</span>,
</span></span><span style="display:flex;"><span>                        ProductImageDTO.builder<span style="color:#f92672">()</span>
</span></span><span style="display:flex;"><span>                                .imageUrl<span style="color:#f92672">(</span>fileName<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>                                .build<span style="color:#f92672">())</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span></code></pre></div><h5 id="1-tạo-sản-phẩm-mới-">1. Tạo sản phẩm mới :</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> Product newProduct <span style="color:#f92672">=</span>  productService.<span style="color:#a6e22e">craetProduct</span>(productDTO);
</span></span></code></pre></div><ul>
<li>tạo 1 newProduct trong đây nó đẫ chứa đầy thông tin</li>
</ul>
<h5 id="2-xử-lí-các-tệp-tin">2. Xử lí các tệp tin</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>List&lt;MultipartFile&gt; files <span style="color:#f92672">=</span> productDTO.getFiles<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span>files <span style="color:#f92672">=</span> files <span style="color:#f92672">==</span> null ? new ArrayList&lt;MultipartFile&gt;<span style="color:#f92672">()</span> : files;
</span></span></code></pre></div><blockquote>
<p>tương đương</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>files <span style="color:#f92672">==</span> null<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    files <span style="color:#f92672">=</span> new ArrayList&lt;MultipartFile&gt;<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    files <span style="color:#f92672">=</span> files;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li>Tiếp theo, đoạn code lấy danh sách các tệp tin (<code>MultipartFile</code>) từ <code>productDTO.</code></li>
<li>Nếu không có tệp tin nào tức là <code>file</code> là null,</li>
</ul>
<h5 id="3-duyệt-qua-các-tệp-tin">3. Duyệt qua các tệp tin</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>MultipartFile file : files<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>file.getSize<span style="color:#f92672">()</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h5 id="4-kiểm-tra-kichs-thước">4. Kiểm tra kichs thước</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>file.getSize<span style="color:#f92672">()</span> &gt; <span style="color:#ae81ff">10</span> * <span style="color:#ae81ff">1024</span> * 1024<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ResponseEntity.status<span style="color:#f92672">(</span>HttpStatus.PAYLOAD_TOO_LARGE<span style="color:#f92672">)</span>.body<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;File is too large! Maximum size is 10Mb&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><h5 id="5-kiểm-tra-loại-tệp-tin">5. Kiểm tra loại tệp tin</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>String contentType <span style="color:#f92672">=</span> file.getContentType<span style="color:#f92672">()</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>contentType <span style="color:#f92672">==</span> null <span style="color:#f92672">||</span> !contentType.startsWith<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;image/&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> ResponseEntity.status<span style="color:#f92672">(</span>HttpStatus.UNSUPPORTED_MEDIA_TYPE<span style="color:#f92672">)</span>.body<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;File must be an image&#34;</span><span style="color:#f92672">)</span>;
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><ul>
<li><code>(content type)</code> được kiểm tra để đảm bảo rằng đó là tệp tin hình ảnh.</li>
</ul>
<h5 id="6-lưu-trữ-tệp-tin">6. Lưu trữ tệp tin:</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>String fileName <span style="color:#f92672">=</span> storeFile<span style="color:#f92672">(</span>file<span style="color:#f92672">)</span>;
</span></span></code></pre></div><ul>
<li>Nó sẽ được lưu trữ vào một vị trí cụ thể bằng phương thức storeFile(file)</li>
</ul>
<h5 id="7-lưu-thông-tin-hình-ảnh-vào-cơ-sở-dữ-liệu">7. Lưu thông tin hình ảnh vào cơ sở dữ liệu:</h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>ProductImage productImage <span style="color:#f92672">=</span> productService.<span style="color:#a6e22e">createProductImage</span>(newProduct.<span style="color:#a6e22e">getId</span>(),
</span></span><span style="display:flex;"><span>        ProductImageDTO.<span style="color:#a6e22e">builder</span>()
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">imageUrl</span>(fileName)
</span></span><span style="display:flex;"><span>                .<span style="color:#a6e22e">build</span>());
</span></span></code></pre></div><ul>
<li><code>Buider pattern</code> : làm việc với đối tượng có nhiều thuộc tính phưucs tạp</li>
</ul>
<h5 id="2-luồng-chạy-của-2-class-và-các-anotation-liên-quan">2. Luồng chạy của 2 class và các <code>anotation</code> liên quan.</h5>
<p>Luồng chạy : từ class Service ta có anotation <code>@RequiredArgsConstructor</code> <code>@Service</code> để : Khi bạn sử dụng <code>@Service</code> và <code>@RequiredArgsConstructor</code>, Spring sẽ tự động quản lý lớp <code>Service</code> này, và tất cả các <code>dependency</code> (như repository hoặc các service khác) sẽ được tự động tiêm vào thông qua constructor mà @RequiredArgsConstructor tạo ra.</p>
<p>Còn class Controller có <code>@RequiredArgsConstructor</code> : sẽ tạo ra constructor và cho phép Spring tự động tiêm các <code>dependency,</code>mà không cần <code>@Autowire</code> chẳng hạn như các service mà Controller sử dụng.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/3-shopapp/3.2-java-spring-boot-backendp1/" title="Java Spring Boot backend (p1)"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/4-java_core/" title="Java Core " style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1725905630"></script>
    <script src="/js/perfect-scrollbar.min.js?1725905630"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1725905630"></script>
    <script src="/js/jquery.sticky.js?1725905630"></script>
    <script src="/js/featherlight.min.js?1725905630"></script>
    <script src="/js/highlight.pack.js?1725905630"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1725905630"></script>
    <script src="/js/learn.js?1725905630"></script>
    <script src="/js/hugo-learn.js?1725905630"></script>

    <link href="/mermaid/mermaid.css?1725905630" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1725905630"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    
  </body>
</html>
